# LiveStreamHub 開発チケット

## Phase 1: インフラ・認証基盤構築

### #001 AWS インフラストラクチャ構築
**優先度:** 高  
**見積工数:** 5日

#### 作業内容
- Cognito ユーザープール・アイデンティティプールの設定
- AppSync GraphQL API の作成
- DynamoDB テーブル設計・作成（USER, CHANNEL, LIVE, COMMENT, ARCHIVE, LIKE）
- CloudFront + S3 静的ホスティング設定
- IVS チャンネル作成・設定
- Lambda 関数の基本構成

#### 受入条件
- [ ] 各AWSリソースが正常に作成されている
- [ ] セキュリティグループ・IAMロールが適切に設定されている
- [ ] 環境別（dev/stg/prod）の設定が完了している

---

### #002 認証機能実装
**優先度:** 高  
**見積工数:** 3日

#### 作業内容
- Amplify Auth の設定
- サインアップ・ログイン・ログアウト機能
- プロフィール管理機能
- JWT トークン管理

#### 受入条件
- [ ] ユーザー登録・ログインが正常に動作する
- [ ] プロフィール編集機能が動作する
- [ ] 認証状態がフロントエンドで管理されている

---

## Phase 2: コア機能開発

### #003 GraphQL スキーマ設計・実装
**優先度:** 高  
**見積工数:** 4日

#### 作業内容
- GraphQL スキーマ定義（Query, Mutation, Subscription）
- リゾルバー実装（AppSync + Lambda）
- データベース接続・CRUD操作
- リアルタイム通信（Subscription）設定

#### 主要なクエリ・ミューテーション
- ユーザー管理：`getUser`, `updateUser`
- チャンネル管理：`listChannels`, `createChannel`, `updateChannel`
- ライブ配信：`listLives`, `createLive`, `updateLiveStatus`
- コメント：`listComments`, `createComment`
- いいね機能：`toggleLike`

#### 受入条件
- [ ] すべてのCRUD操作が正常に動作する
- [ ] リアルタイムコメント・状態更新が機能する
- [ ] エラーハンドリングが適切に実装されている

---

### #004 チャンネル機能実装
**優先度:** 高  
**見積工数:** 3日

#### 作業内容
- チャンネル作成・編集機能
- チャンネル一覧表示
- チャンネル詳細ページ
- オーナー権限管理

#### 受入条件
- [ ] チャンネルの作成・編集ができる
- [ ] チャンネル一覧・詳細が正しく表示される
- [ ] オーナーのみが編集可能な権限制御

---

### #005 ライブ配信機能実装
**優先度:** 最高  
**見積工数:** 6日

#### 作業内容
- ライブ配信作成・事前予約機能
- IVS との連携（ストリームキー取得）
- 配信状態管理（準備中/配信中/終了）
- 視聴ページ（HLS再生）
- 配信者向けプレビュー機能

#### 受入条件
- [ ] 配信の作成・開始・終了ができる
- [ ] IVS ストリーミングが正常に動作する
- [ ] 視聴者が配信を視聴できる
- [ ] 配信状態がリアルタイムで更新される

---

### #006 リアルタイムコメント機能
**優先度:** 高  
**見積工数:** 3日

#### 作業内容
- コメント投稿・表示機能
- リアルタイムコメント配信（GraphQL Subscription）
- コメント管理（削除・モデレーション）
- スパム対策

#### 受入条件
- [ ] リアルタイムでコメントが表示される
- [ ] コメントの投稿・削除ができる
- [ ] 不適切なコメントのフィルタリング機能

---

### #007 いいね機能実装
**優先度:** 中  
**見積工数:** 2日

#### 作業内容
- ライブ配信・コメントへのいいね機能
- いいね数のリアルタイム更新
- ユーザーのいいね状態管理

#### 受入条件
- [ ] いいね機能が正常に動作する
- [ ] いいね数がリアルタイムで更新される
- [ ] 重複いいねの防止

---

## Phase 3: アーカイブ・検索機能

### #008 アーカイブ機能実装
**優先度:** 中  
**見積工数:** 4日

#### 作業内容
- IVS 録画自動保存機能
- アーカイブ再生機能
- アーカイブ一覧・検索
- サムネイル生成

#### 受入条件
- [ ] 配信終了後に自動でアーカイブが作成される
- [ ] アーカイブの再生ができる
- [ ] アーカイブ一覧が表示される

---

### #009 検索機能実装
**優先度:** 中  
**見積工数:** 3日

#### 作業内容
- ライブ配信・チャンネル検索
- タグ・カテゴリ機能
- 検索結果ページ
- おすすめ機能

#### 受入条件
- [ ] キーワード検索が動作する
- [ ] 検索結果が適切に表示される
- [ ] フィルター・ソート機能

---

## Phase 4: モバイルアプリ（配信者向け）

### #010 React Native 配信アプリ開発
**優先度:** 高  
**見積工数:** 8日

#### 作業内容
- React Native アプリ基本構成
- カメラ・マイク機能
- IVS 配信 SDK 統合
- ディープリンク実装
- プッシュ通知

#### 受入条件
- [ ] モバイルからの配信ができる
- [ ] ディープリンクが正常に動作する
- [ ] 配信品質が安定している

---

## Phase 5: 運用・監視機能

### #011 署名付きURL・セキュリティ機能
**優先度:** 中  
**見積工数:** 3日

#### 作業内容
- CloudFront 署名付きURL生成（API Gateway + Lambda）
- S3 アップロード用署名付きURL
- アクセス制御・レート制限
- セキュリティヘッダー設定

#### 受入条件
- [ ] 視聴用URLが適切に保護されている
- [ ] ファイルアップロードが安全に行われる
- [ ] レート制限が機能している

---

### #012 監視・ヘルスチェック機能
**優先度:** 中  
**見積工数:** 2日

#### 作業内容
- システムステータス監視
- CloudWatch メトリクス・アラーム設定
- ヘルスチェックエンドポイント
- エラー通知機能

#### 受入条件
- [ ] システム状態が監視されている
- [ ] 異常時のアラートが動作する
- [ ] ステータスページが表示される

---

### #013 Webhook・イベント処理
**優先度:** 中  
**見積工数:** 2日

#### 作業内容
- IVS Webhook 受信処理
- EventBridge イベントルーティング
- 配信状態変更・録画完了処理
- 自動アーカイブ作成

#### 受入条件
- [ ] IVS イベントが正しく処理される
- [ ] 配信状態が自動で更新される
- [ ] アーカイブが自動生成される

---

## Phase 6: UI/UX・最適化

### #014 フロントエンド UI/UX 実装
**優先度:** 中  
**見積工数:** 5日

#### 作業内容
- レスポンシブデザイン実装
- プレイヤー UI カスタマイズ
- ダークモード対応
- アクセシビリティ対応

#### 受入条件
- [ ] モバイル・デスクトップで適切に表示される
- [ ] プレイヤーが使いやすい
- [ ] アクセシビリティ要件を満たす

---

### #015 パフォーマンス最適化
**優先度:** 低  
**見積工数:** 3日

#### 作業内容
- CDN キャッシュ最適化
- 画像最適化・圧縮
- レスポンス時間改善
- データベースクエリ最適化

#### 受入条件
- [ ] ページロード時間が3秒以内
- [ ] 画像が適切に最適化されている
- [ ] API レスポンスが高速

---

## Phase 7: テスト・リリース準備

### #016 テスト実装
**優先度:** 中  
**見積工数:** 4日

#### 作業内容
- ユニットテスト
- 統合テスト
- E2Eテスト
- 負荷テスト

#### 受入条件
- [ ] テストカバレッジ 80% 以上
- [ ] CI/CD パイプラインでテスト実行
- [ ] 負荷テストをパス

---

### #017 本番リリース準備
**優先度:** 高  
**見積工数:** 2日

#### 作業内容
- 本番環境デプロイ
- DNS 設定
- SSL 証明書設定
- 運用手順書作成

#### 受入条件
- [ ] 本番環境が正常に動作する
- [ ] HTTPS でアクセス可能
- [ ] 運用手順が整備されている

---

## 総見積工数
**合計: 66日（約13週間）**

## 優先順位別まとめ
- **最高優先度:** 1件（6日）
- **高優先度:** 8件（38日）  
- **中優先度:** 7件（20日）
- **低優先度:** 1件（3日）